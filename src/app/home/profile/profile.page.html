<ion-header [translucent]="true" mode="ios">
  <ion-toolbar>
    <ion-title class="ion-no-padding">User Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">User Profile</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-card class="profile-card">
    <div class="card-img">
      <img class="background-image" src="assets/background.jpg" alt="Background Image" />
      <ion-button slot="start" size="small" fill="clear" (click)="back()">
        <ion-icon slot="icon-only" size="large" color="light" name="chevron-back-circle-outline"></ion-icon>
      </ion-button>

      <div class="card-avatar">
        <img class="avatar" [src]="loggedUserData?.image" alt="User Avatar" />
      </div>
    </div>
    <ion-card-header>
      <ion-card-title class="card-title">{{loggedUserData?.name}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p class=""><strong>Email:</strong> {{loggedUserData?.email}}</p>
      <p class=""><strong>Phone:</strong> {{loggedUserData?.phone}}</p>
      <!-- <ion-item lines="none">
        <ion-button slot="end" fill="clear" class="card-btn-solid" size="small"><ion-icon size="large" color="dark"
            name="create-outline"></ion-icon></ion-button>
      </ion-item> -->
      <!-- <ion-item lines="none">
        <ion-button color="danger" fill="outline" size="small" (click)="logOut()">Log Out</ion-button>
      </ion-item> -->


    </ion-card-content>
  </ion-card>

  <ion-card class="profile-card">
    <ion-card-content>


      <ion-accordion-group color="light">
        <ion-item>
          <ion-label (click)="openModal()"><ion-icon name="ticket-outline"></ion-icon>Your Orders</ion-label>
        </ion-item>
        <ion-accordion value="first">
          <ion-item slot="header" lines="true">
            <ion-label><ion-icon name="settings-outline"></ion-icon>Account</ion-label>
          </ion-item>
          <div class="ion-padding" (click)="logOut()" slot="content"><ion-icon color="dark"
              name="create-outline"></ion-icon>Edit</div>
          <div class="ion-padding" (click)="logOut()" slot="content"><ion-icon name="log-out-outline"></ion-icon>Logout
          </div>
        </ion-accordion>
        <!-- <ion-accordion>
          <ion-item slot="header">
            <ion-label><ion-icon name="ticket-outline" ></ion-icon>Your Orders</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content" (click)="openModal()">First Content</div>
        </ion-accordion> -->

        <!-- <ion-accordion value="third">
          <ion-item slot="header" >
            <ion-label>Third Accordion</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">Third Content</div>
        </ion-accordion> -->

      </ion-accordion-group>



    </ion-card-content>
  </ion-card>







  <!-- order modal -->
  <ion-modal #modal>
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Your Orders</ion-title>
          <ion-buttons slot="end">
            <ion-buttons (click)="modal.dismiss()">Close</ion-buttons>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-list style="background-color: rgb(240, 240, 240);" *ngIf="bookingsList?.length>0">
          <ion-item class="ion-margin" *ngFor="let item of bookingsList; let i = index" lines="full"
            style="border-radius: 10px;">
            <div slot="start" class="ion-align-items-center" style="display: flex;flex-direction: column;">
              <!-- <ion-avatar > -->
              <ion-img style="width: 3rem; height:4rem;" [src]="item.showId.eventId.image"></ion-img>
              <!-- </ion-avatar> -->
              <ion-text class="dark ion-no-margin ion-no-padding">
                <strong>{{ item?.date | date: 'd MMM' }}</strong>
              </ion-text>
            </div>

            <ion-text style="font-size: .8rem;">
              <p class="ion-no-margin ion-no-padding">
                <strong>{{ item.showId.eventId.name}}</strong>
              </p>
              <p class=" ion-no-margin ion-no-padding">
                <strong>{{ item?.showId.date | date: 'd MMM' }} | {{ item?.showId.time}}</strong> <span
                  style="color: green;">{{ item?.availableSeats
                  }}</span>
              </p>
              <p class="ion-no-margin ion-no-padding">
                {{ item.showId.eventId.location}}
              </p>
              <p class="ion-no-margin ion-no-padding">
                <strong>{{ item?.tickets}} ticket (s) </strong>
              </p>
            </ion-text>

            <!-- <div slot="end" style="display: flex; flex-direction: column;align-items: center;">
                  <ion-button class="ion-no-padding" color="primary" expand="block" fill="clear"
                      class="book-now-btn" (click)="bookTickets(item) ; modal.dismiss()">
                      <ion-icon size="large" name="ticket-outline"></ion-icon>Book
                  </ion-button>
              </div> -->
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>



</ion-content>